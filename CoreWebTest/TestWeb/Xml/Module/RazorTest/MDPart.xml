<?xml version="1.0" encoding="UTF-8"?>
<tk:Toolkit version="5.0" xsi:schemaLocation="http://www.qdocuments.net ..\..\schema\v5\Module.xsd" xmlns:tk="http://www.qdocuments.net" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
  <tk:Module>
    <tk:Title>
      <tk:Content>测试用户</tk:Content>
    </tk:Title>
    <tk:MetaData>
      <tk:MasterDetailMetaData>
        <tk:Master>
          <tk:SingleXmlMetaData DataXml="UserManager/Part.xml" DisableAutoDetailLink="true"/>
        </tk:Master>
        <tk:Detail ListStyle="Table">
          <tk:SingleXmlMetaData DataXml="RazorTest/SubPart.xml" DisableAutoDetailLink="true"/>
        </tk:Detail>
      </tk:MasterDetailMetaData>
    </tk:MetaData>
    <tk:Source>
      <tk:CompositeSource>
        <tk:Item>
          <tk:Condition SearchType="Style" Style="C"/>
          <VueFrameSource Model="SunVueDemo" Template="Multiple"/>
        </tk:Item>
        <tk:Item>
          <tk:Condition SearchType="Style" Style="CListVue"/>
          <ListOperatorSource>
            <tk:Operators>
              <tk:SimpleListOperators/>
            </tk:Operators>
          </ListOperatorSource>
        </tk:Item>
        <tk:Item>
          <tk:Condition SearchType="Style" Style="CDetailVue"/>
          <DetailOperatorSource>
            <tk:Operators>
              <tk:SimpleDetailOperators/>
            </tk:Operators>
          </DetailOperatorSource>
        </tk:Item>
        <tk:Item>
          <tk:Condition SearchType="Style" Style="CInsertVue CUpdateVue CIndexVue"/>
          <tk:EmptyObjectSource UseCallerInfo="true"/>
        </tk:Item>
        <tk:Item>
          <tk:Condition SearchType="True"/>
          <tk:MasterDetailDbSource>
            <tk:MasterResolver>
              <tk:RegResolver>Part</tk:RegResolver>
            </tk:MasterResolver>
            <tk:Detail>
              <tk:Resolver>
                <tk:MetaDataResolver AutoUpdateKey="true">
                  <tk:Scheme>
                    <tk:Tk5DataXml FileName="RazorTest/SubPart.xml"/>
                  </tk:Scheme>
                </tk:MetaDataResolver>
              </tk:Resolver>
              <tk:Relation>
                <tk:MasterFields>Id</tk:MasterFields>
                <tk:DetailFields>PartId</tk:DetailFields>
              </tk:Relation>
            </tk:Detail>
          </tk:MasterDetailDbSource>
        </tk:Item>
      </tk:CompositeSource>
    </tk:Source>
    <tk:PageMaker>
      <!--<tk:RazorModuleTemplatePageMaker ModuleTemplate="MasterDetail"/>-->
      <tk:CompositePageMaker>
        <tk:Item>
          <tk:Condition SearchType="Style" Style="C"/>
          <tk:FreeRazorPageMaker FileName="RazorTest/testpart1.cshtml" UseTemplate="false"/>
        </tk:Item>
        <!--<tk:Item>
          <tk:Condition SearchType="Style" Style="CListVue"/>
          <tk:FreeRazorPageMaker FileName="^SunVueDemo/List/template.cshtml" UseTemplate="false"/>
        </tk:Item>
        <tk:Item>
          <tk:Condition SearchType="Style" Style="CInsertVue CUpdateVue"/>
          <tk:FreeRazorPageMaker FileName="^SunVueDemo/MultiEdit/template.cshtml" UseTemplate="false"/>
        </tk:Item>
        <tk:Item>
          <tk:Condition SearchType="Style" Style="CDetailVue"/>
          <tk:FreeRazorPageMaker FileName="^SunVueDemo/MultiDetail/template.cshtml" UseTemplate="false"/>
        </tk:Item>
        <tk:Item>
          <tk:Condition SearchType="Style" Style="CIndexVue"/>
          <tk:FreeRazorPageMaker FileName="^SunVueDemo/MultiIndex/template.cshtml" UseTemplate="false"/>
        </tk:Item>-->
        <tk:Item>
          <tk:Condition SearchType="Style Post" Style="Insert Update" IsPost="true"/>
          <tk:PostPageMaker DestUrl="Custom">
            <tk:CustomUrl>CloseDialogAndRefresh</tk:CustomUrl>
          </tk:PostPageMaker>
        </tk:Item>
        <tk:Item>
          <tk:Condition SearchType="Style" Style="Delete"/>
          <tk:PostPageMaker DestUrl="Custom">
            <tk:CustomUrl>ListRefresh</tk:CustomUrl>
          </tk:PostPageMaker>
        </tk:Item>
        <tk:Item>
          <tk:Condition SearchType="True"/>
          <tk:JsonMetaDataSetPageMaker/>
        </tk:Item>
      </tk:CompositePageMaker>
    </tk:PageMaker>
    <tk:WebPage SupportLogOn="false"/>
  </tk:Module>
</tk:Toolkit>
